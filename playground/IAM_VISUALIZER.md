# ğŸ” IAM Visualizer - React Component

## Ğ§Ñ‚Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾

âœ… **React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ IAMVisualizer** Ğ² `src/components/IAMVisualizer.tsx`
âœ… **Ğ Ğ¾ÑƒÑ‚ `/iam`** Ğ² App.tsx
âœ… **ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸** "ğŸ” IAM" Ğ² header

## ğŸš€ ĞšĞ°Ğº Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ

### 1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ seed script (ĞµÑĞ»Ğ¸ ĞµÑ‰Ğµ Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ğ»Ğ¸)

```bash
cd pobut_pro/backend_new/services/iam
python seed_default_policies.py
```

### 2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ gateway

```bash
cd pobut_pro/backend_new/gateway
python main.py
```

### 3. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ playground

```bash
cd supergraph/playground
npm run dev
```

### 4. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

```
http://localhost:5173/iam
```

Ğ˜Ğ»Ğ¸ ĞºĞ»Ğ¸ĞºĞ½ÑƒÑ‚ÑŒ Ğ½Ğ° ĞºĞ½Ğ¾Ğ¿ĞºÑƒ **ğŸ” IAM** Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ¼ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¼ ÑƒĞ³Ğ»Ñƒ playground!

## ğŸ¨ Ğ¤Ğ¸Ñ‡Ğ¸

### ğŸ“Š Table View
- ĞšÑ€Ğ°ÑĞ¸Ğ²Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ badges
- ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ User, Role, Scope, Policies
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

### ğŸŒ Graph View (React Flow)
- Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ñ„ Ñ drag & drop
- Zoom Ğ¸ pan
- MiniMap Ğ´Ğ»Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸
- Ğ¦Ğ²ĞµÑ‚Ğ½Ñ‹Ğµ Ğ½Ğ¾Ğ´Ñ‹:
  - ğŸ‘¤ User (Ğ³Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚ indigo-purple)
  - ğŸ­ Role (purple)
  - ğŸ“œ Policy (green)

### ğŸŒ³ Tree View
- Coming soon! (Ğ¿Ğ¾ĞºĞ° Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)

## ğŸ¯ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ

Ğ’Ğ²ĞµĞ´Ğ¸ User ID Ğ² Ğ¿Ğ¾Ğ»Ğµ "Filter by User ID" Ğ¸ Ğ½Ğ°Ğ¶Ğ¼Ğ¸ Refresh:

```
Filter: 100 â†’ ĞŸĞ¾ĞºĞ°Ğ¶ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€Ğ¾Ğ»Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ 100
Filter: Ğ¿ÑƒÑÑ‚Ğ¾ â†’ ĞŸĞ¾ĞºĞ°Ğ¶ĞµÑ‚ Ğ²ÑĞµ Ğ±Ğ¸Ğ½Ğ´Ğ¸Ğ½Ğ³Ğ¸
```

## ğŸ’¾ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚

ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ğŸ’¾ Export JSON" ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ²ÑĞµ IAM Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² JSON Ñ„Ğ°Ğ¹Ğ».

## ğŸ“¸ Ğ¡ĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” IAM Visualizer                                   â”‚
â”‚  Role Bindings, Policies & Permissions              â”‚
â”‚                                                       â”‚
â”‚  Filter by User ID: [100]  [ğŸ”„ Refresh] [ğŸ’¾ Export] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   4     â”‚   6     â”‚   13    â”‚   4     â”‚
â”‚ Bindingsâ”‚  Roles  â”‚Policies â”‚ Users   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ğŸ“Š Table View] [ğŸŒ Graph View] [ğŸŒ³ Tree View]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User              â”‚ Role          â”‚ Scope      â”‚ ... â”‚
â”‚ admin             â”‚ superadmin    â”‚ global     â”‚     â”‚
â”‚ company_admin_userâ”‚ company_admin â”‚ company:1  â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ API Endpoints

ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚:
- `GET /__iam/data?user_id=100` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ IAM Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- `GET /__iam/graph?user_id=100` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ³Ñ€Ğ°Ñ„ Ğ´Ğ»Ñ React Flow

## ğŸ¨ Ğ¡Ñ‚Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Tailwind CSS (ÑƒĞ¶Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ² playground).

Ğ¦Ğ²ĞµÑ‚Ğ°:
- Ğ“Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚ Ñ„Ğ¾Ğ½Ğ°: `from-indigo-500 to-purple-600`
- User badge: `bg-blue-100 text-blue-800`
- Role badge: `bg-purple-100 text-purple-800`
- Policy badge: `bg-green-100 text-green-800`

## ğŸ› Troubleshooting

### ĞÑˆĞ¸Ğ±ĞºĞ°: Cannot find module '@xyflow/react'

```bash
cd supergraph/playground
npm install
```

### ĞÑˆĞ¸Ğ±ĞºĞ°: /__iam/data Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ 404

ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ, Ñ‡Ñ‚Ğ¾:
1. Gateway Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ 8000
2. IAM endpoints Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ² supergraph/api/router.py
3. IAM service Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½

### Graph View Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹

Ğ£Ğ±ĞµĞ´Ğ¸ÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ² Ğ‘Ğ” ĞµÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ seed script).

## ğŸº Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑˆÑŒ:
1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ http://localhost:5173
2. ĞšĞ»Ğ¸ĞºĞ½ÑƒÑ‚ÑŒ Ğ½Ğ° ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "ğŸ” IAM" Ğ² header
3. Ğ£Ğ²Ğ¸Ğ´ĞµÑ‚ÑŒ Ğ²ÑÑ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñƒ! ğŸ‰

Enjoy! ğŸš€
